<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Floricultura - Natural Flores</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background: url('fundo.png') center/cover no-repeat;
  color: #333;
}

header {
  text-align: center;
}

header img {
  width: 100%;
  max-height: 200px;
  object-fit: cover;
}

nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  background: #00b32d;
}

nav button {
  background: transparent;
  color: #fff;
  border: none;
  padding: 0.6rem 1rem;
  font-size: 1rem;
  cursor: pointer;
}

nav button:hover {
  background: rgba(255, 255, 255, 0.2);
}

main {
  max-width: 700px;
  margin: 1rem auto;
  background: rgba(255, 255, 255, 0.8);
  padding: 1rem;
  border-radius: 10px;
}

.item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.6rem;
  border-bottom: 1px solid #ccc;
}

.controles button {
  background: #00b32d;
  color: #fff;
  border: none;
  padding: 0.4rem 0.8rem;
  cursor: pointer;
  border-radius: 5px;
  font-size: 1.2rem;
  margin-left: 3px;
}

.carrinho {
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 1rem;
  position: sticky;
  bottom: 0;
  text-align: center;
}

.carrinho-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.remove-btn {
  background: red;
  color: #fff;
  border: none;
  padding: 0.3rem 0.6rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
}

.finalizar {
  background: #00b32d;
  color: #fff;
  border: none;
  padding: 1rem;
  width: 100%;
  font-size: 1.2rem;
  border-radius: 8px;
  cursor: pointer;
}

@media (max-width: 600px) {
  .item {
    flex-direction: column;
    align-items: flex-start;
  }
}

#dadosCliente {
  max-width: 500px;
  margin: 1rem auto;
  background: rgba(255, 255, 255, 0.9);
  padding: 1rem;
  border-radius: 10px;
  display: none;
}
#dadosCliente input, #dadosCliente select {
  width: 100%;
  padding: 0.6rem;
  margin-bottom: 0.8rem;
}
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="Cabeçalho Floricultura" id="header-image">
</header>

<nav>
  <button onclick="filtrar('Buquê')">💐 Buquê</button>
  <button onclick="filtrar('Chocolate')">🍫 Chocolate</button>
  <button onclick="filtrar('Cartões')">💌 Cartões</button>
  <button onclick="filtrar('Plantas')">🪴 Plantas</button>
  <button onclick="filtrar('Coroa de Flores')">🌸 Coroa de Flores</button>
  <button onclick="filtrar('Urso')">🧸 Ursos</button>
  <button onclick="filtrar('Todas')">Ver Tudo</button>
  <button onclick="abrirGaleria()">🖼 Galeria</button>
</nav>

<main id="cardapio"></main>

<div class="carrinho">
  <div id="pedido">Pedido vazio</div>
  <button class="finalizar" onclick="mostrarFormulario()">Finalizar Pedido via WhatsApp</button>
</div>

<div id="dadosCliente">
  <h3>Dados para o Pedido</h3>
  <input type="text" id="nomeCliente" placeholder="Seu Nome" required>
  <select id="tipoEntrega" onchange="toggleEndereco()">
    <option value="entrega">Entrega</option>
    <option value="retirada">Retirada na Loja</option>
  </select>
  <input type="text" id="enderecoCliente" placeholder="Endereço Completo">
  <button class="finalizar" onclick="enviarWhats()">Enviar Pedido</button>
</div>

<script>
let produtos = [
  // Buquês
  {categoria:"Buquê", nome:"Buquê Rosa 6 unidades", preco:70.00},
  {categoria:"Buquê", nome:"Buquê Rosa 12 unidades", preco:100.00},
  {categoria:"Buquê", nome:"Buquê Girassol 6 unidades", preco:90.00},
  {categoria:"Buquê", nome:"Buquê Girassol 12 unidades", preco:130.00},
  {categoria:"Buquê", nome:"Buquê Margarida 6 unidades", preco:70.00},
  {categoria:"Buquê", nome:"Buquê Margarida 12 unidades", preco:100.00},

  // Chocolate
  {categoria:"Chocolate", nome:"Ferreiro Roche 3 unidades", preco:12.00},
  {categoria:"Chocolate", nome:"Ferreiro Roche 4 unidades", preco:20.00},
  {categoria:"Chocolate", nome:"Ferreiro Roche 8 unidades", preco:35.00},
  {categoria:"Chocolate", nome:"Ferreiro Roche 12 unidades", preco:45.00},

  // Cartões
  {categoria:"Cartões", nome:"Cartão pequeno", preco:10.00},
  {categoria:"Cartões", nome:"Cartão grande", preco:15.00},

  // Plantas
  {categoria:"Plantas", nome:"Orquídeas (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Lírios (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Begônia (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Azaléia (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Girassol (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Antúrio (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Kalanchoe (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Violeta (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Caquitos (a partir)", preco:10.00},
  {categoria:"Plantas", nome:"Suculentas (a partir)", preco:10.00},

  // Coroa de flores
  {categoria:"Coroa de Flores", nome:"Coroa de flores (a partir)", preco:10.00},

  // Ursos
  {categoria:"Urso", nome:"Urso (a partir)", preco:35.00}
];

let carrinho = {};

function filtrar(categoria) {
  let html = "";
  produtos.filter(p => categoria=="Todas" || p.categoria==categoria).forEach(p=>{
    html += `<div class="item">
      ${p.nome} - R$${p.preco.toFixed(2).replace('.', ',')}
      <div class="controles">
        <button onclick="alterar('${p.nome}',${p.preco},-1)">-</button>
        <button onclick="alterar('${p.nome}',${p.preco},1)">+</button>
      </div>
    </div>`;
  });
  document.getElementById("cardapio").innerHTML = html;
}

function alterar(item, preco, qtd) {
  if (!carrinho[item]) carrinho[item] = {qtd:0, preco: preco};
  carrinho[item].qtd += qtd;
  if (carrinho[item].qtd <=0) delete carrinho[item];
  atualizarCarrinho();
}

function removerItem(item) {
  delete carrinho[item];
  atualizarCarrinho();
}

function atualizarCarrinho(){
  let texto = "";
  let total = 0;
  for (let i in carrinho) {
    texto += `<div class="carrinho-item">
                ${carrinho[i].qtd}x ${i}
                <button class="remove-btn" onclick="removerItem('${i}')">🗑</button>
              </div>`;
    total += carrinho[i].qtd * carrinho[i].preco;
  }
  if (total > 0) {
    texto += `<br><strong>Total: R$${total.toFixed(2).replace('.', ',')}</strong>`;
  } else {
    texto = "Pedido vazio";
  }
  document.getElementById("pedido").innerHTML = texto;
}

function mostrarFormulario(){
  if (Object.keys(carrinho).length===0){
    alert("Seu pedido está vazio.");
    return;
  }
  document.getElementById("dadosCliente").style.display = "block";
  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

function toggleEndereco(){
  let tipo = document.getElementById("tipoEntrega").value;
  document.getElementById("enderecoCliente").style.display = (tipo === "entrega") ? "block" : "none";
}

function enviarWhats(){
  let nome = document.getElementById("nomeCliente").value.trim();
  let tipo = document.getElementById("tipoEntrega").value;
  let endereco = document.getElementById("enderecoCliente").value.trim();

  if (!nome) {
    alert("Por favor, preencha seu nome.");
    return;
  }

  if (tipo === "entrega" && !endereco) {
    alert("Por favor, preencha o endereço para entrega.");
    return;
  }

  let msg = `📦 *Novo Pedido*%0A`;
  msg += `👤 Cliente: ${nome}%0A`;
  msg += `🚚 Tipo: ${tipo === "entrega" ? "Entrega" : "Retirada na Loja"}%0A`;
  if (tipo === "entrega") msg += `🏠 Endereço: ${endereco}%0A`;
  msg += `%0A🛒 *Itens do Pedido:*%0A`;

  let total = 0;
  for (let i in carrinho) {
    msg += `- ${carrinho[i].qtd}x ${i}%0A`;
    total += carrinho[i].qtd * carrinho[i].preco;
  }
  msg += `%0A💰 Total: R$${total.toFixed(2).replace('.', ',')}`;

  window.open(`https://wa.me/5521971950786?text=${msg}`,"_blank");

  carrinho = {};
  atualizarCarrinho();
  document.getElementById("dadosCliente").style.display = "none";
  document.getElementById("nomeCliente").value = "";
  document.getElementById("enderecoCliente").value = "";
}

function abrirGaleria(){
  alert("https://dwsitebr.github.io/NATURAL-FLORES-GALERIA-/");
}

filtrar('Buquê');
</script>

</body>
</html>
